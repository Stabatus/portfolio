---
import type { CollectionEntry } from "astro:content";
import { Image } from "astro:assets";

interface Props
  extends Pick<
    CollectionEntry<"projects">["data"],
    | "title"
    | "subTitle"
    | "heroImage"
    | "heroImage_alt"
    | "post"
    | "timing"
    | "jobType"
    | "tasks"
  > {}

const {
  title,
  subTitle,
  heroImage,
  heroImage_alt,
  post,
  jobType,
  timing,
  tasks,
} = Astro.props;
---

<div class="header_container">
  <header>
    <Image
      class="header_background"
      src="/backgroundPerlin.png"
      alt="ptdr"
      width={1920}
      height={1080}
    />
    <div>
      <h1>{title}</h1>
      <strong>{subTitle}</strong>
    </div>

    <Image class="hero_image" src={heroImage} alt={heroImage_alt} />

    <div class="header_desc">
      <p class="header_desc_head">
        <strong class="header_desc_post">{post}</strong>
        <span>{jobType}</span>
      </p>
      <span>{timing}</span>
      <p>
        {tasks.join(", ")}
      </p>
    </div>
  </header>
</div>

<style>
  div.header_container {
    position: relative;
    width: 100%;
    height: 90dvh;
    overflow: hidden;
    border-bottom-right-radius: 2.4rem;
    border-bottom-left-radius: 2.4rem;
    background-color: var(--hero-Grey-color);
    margin-bottom: 4.8rem;
    z-index: -1;

    & header {
      height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

    & img.header_background {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center;
      z-index: -1;
      opacity: 0.2;
    }

    & img.hero_image {
      position: absolute;
      bottom: 0;
      right: 0;
      width: 70%;
      height: auto;
      object-fit: contain;
      object-position: center;
      z-index: 0;
    }

    & div:has(h1) {
      padding-top: 9.6rem;
      color: var(--white-color);
      display: flex;
      flex-direction: column;
      gap: 1.2rem;

      & h1 {
        font-size: 3.2rem;
        margin: 0;
        padding: 0;
      }

      & strong {
        font-weight: 400;
        opacity: 0.8;
        color: hsla(0, 4%, 81%, 1);
      }
    }

    & div.header_desc {
      display: flex;
      flex-direction: column;
      gap: 1.6rem;
      padding-bottom: 2.4rem;

      & span,
      & p {
        color: rgb(201, 201, 201);
      }

      & p.header_desc_head {
        display: flex;
        flex-direction: column;
        gap: 0.4rem;
        z-index: 3;
      }
      & strong.header_desc_post {
        font-size: 2.4rem;
        color: var(--white-color);
      }

      & p {
        width: 40ch;
        opacity: 0.8;
        margin: 0;
        padding: 0;
      }
    }
  }
</style>
